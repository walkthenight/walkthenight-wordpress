/* global jQuery, cbScripts, cookie, 2.1.1 */
!function(e){"use strict"
var s=e("#cb-overlay"),t=e("body"),a=e(window),c=e(document),i=a.height()+1,r=a.width(),l=e("#main"),n=l.find(".cb-entry-content"),o=n.find(".alignnone"),d=e(".cb-main-nav"),b=d.children(),f=e(".cb-slider-1"),h=e(".cb-slider-2"),m=e(".cb-slider-3"),p=e("html, body"),u=e("#cb-to-top"),v=e(".cb-module-block-fs"),g=e("#cb-container"),C=e("#cb-content"),w=e(".cb-vertical-down"),x=e("#cb-featured-image"),y=e(".cb-fis-fs"),k=e("#cb-parallax-bg"),S=e("#cb-gallery-post"),T=e("#cb-nav-bar"),I=e("#cb-s-trigger"),D=e("#cb-menu-search"),P=D.find("input"),O=e("#cb-trend-menu-item"),Y,_=0,j=0,H=0,M=0,A=D.find("#cb-s-results"),N=e("#cb-lwa"),F=e("#cb-lwa-trigger"),z=e(".cb-close-m").add(s),E=N.find(".cb-title-trigger"),G=N.find(".lwa-form"),V=G.find(".cb-form-input-username"),U=g.find(".cb-sticky-sidebar"),B=U.find(".cb-sidebar"),Q=B.css("padding-top"),W=[9,13,16,17,18,20,32,45,116],X=e("#cb-footer"),q=e("#cb-mob-open"),L=e("#cb-mob-close"),R=e("#cb-media-play"),J=!0,K=e("#cb-blog-infinite-scroll"),Z=e("#cb-section-lp"),$=e("#cb-top-menu").find(".cb-top-menu-wrap"),ee=e("#cb-review-container").find(".cb-overlay span"),se=e("#cb-par-wrap").find(".cb-image"),te=x.attr("data-cb-bs-fis"),ae=t.attr("data-cb-bg"),ce,ie=!1,re=!1,le=!1,ne=!1,oe=!1,de,be,fe,he,me,pe,ue=n.find("iframe"),ve=!1
if((t.hasClass("cb-body-tabl")||t.hasClass("cb-body-mob"))&&(ve=!0),void 0!==te&&(x.hasClass("cb-fis-not-bg")?x.backstretch(te,{fade:1250}):x.hasClass("cb-fis-block-slideshow")?e.backstretch(te.split(","),{fade:750,duration:5e3}):e.backstretch(te,{fade:1250})),void 0!==ae&&(t.backstretch(ae,{fade:750}),t.removeAttr("data-cb-bg")),f.each(function(){var s=e(this)
s.hasClass("cb-recent-slider")||s.find(".slides > li").css("height",s.width()/2.333333)}),t.hasClass("rtl")&&(oe=!0),t.hasClass("admin-bar")&&(re=!0),T.length&&r>767&&(pe=T.outerHeight()),Z.length&&(U=Z.find(".cb-sticky-sidebar"),B=U.find(".cb-sidebar"),Q=B.css("padding-top")),y.length){var ge=x.offset().top
ce=i-ge}T.css("height",pe),y.css("height",ce),k.css("height",i),S.length&&S.find("img").css("height",i+1),ue.each(function(){var s=e(this).attr("src")
s&&(s.indexOf("yout")>-1||s.indexOf("vimeo")>-1||s.indexOf("daily")>-1)&&e(this).wrap('<div class="cb-video-frame"></div>')}),q.click(function(e){e.preventDefault(),t.addClass("cb-mob-op")}),O.click(function(e){e.preventDefault()}),L.click(function(e){e.preventDefault(),t.removeClass("cb-mob-op")})
function Ce(){Y=re===!0?r>781?a.scrollTop()+32:a.scrollTop()+46:a.scrollTop(),we()}function we(){le||(requestAnimationFrame(ye),le=!0)}function xe(){ie===!1&&(ye(),ye(),ie=!0)}function ye(){if(t.hasClass("cb-sticky-mm")&&(t.hasClass("cb-sticky-menu-up")?(Y>=be&&_>Y?t.addClass("cb-stuck"):t.removeClass("cb-stuck"),_=Y):Y>=be?t.addClass("cb-stuck"):t.removeClass("cb-stuck")),r>767&&ve===!1&&U.length){var s=U.offset().top,a=B.outerHeight(!0),c=X.offset().top,n=s+a,o=i+Y,d=e("#cb-outer-container").css("margin-top"),b=0
"0px"!=d&&(b=parseFloat(d)),ne===!1&&(fe=a,ne=!0),a>fe&&(fe=a,n=s+a,H=n),fe>i?(U.css("height",fe),t.removeClass("cb-stuck-sb-t"),t.hasClass("cb-stuck-sb")?(!X.visible(!0)&&c>Y?(t.removeClass("cb-footer-vis"),B.css("top","auto")):(t.addClass("cb-footer-vis"),B.css("top",c-fe-b+"px")),H>o&&t.removeClass("cb-stuck-sb")):(o>n&&c>Y&&Y>s&&(t.addClass("cb-stuck-sb"),H=n),o>c&&t.addClass("cb-footer-vis"))):(re===!0?(de=pe+32,M=s-parseInt(Q,10)-pe+32):(de=pe,M=s-parseInt(Q,10)-pe),U.css("height",fe),t.hasClass("cb-stuck-sb")?(c>o-(i-fe)?(t.removeClass("cb-footer-vis"),t.hasClass("cb-stuck")?B.css("top",de):B.css("top","0")):(t.addClass("cb-footer-vis"),B.css("top",c-fe+"px")),M>Y&&(t.removeClass("cb-stuck-sb cb-stuck-sb-t"),t.hasClass("cb-stuck")?B.css("top",de):B.css("top","0"))):(t.hasClass("cb-stuck")&&!t.hasClass("cb-fis-big-block")&&B.css("top",de),Y>=M&&(t.addClass("cb-stuck-sb cb-stuck-sb-t"),t.hasClass("cb-fis-big-block")&&B.css("top",de))))}if(768>r&&re===!0&&(92-Y>=0?(t.removeClass("cb-tm-stuck"),32==Y?$.css("top",46):$.css("top",92-Y)):(t.addClass("cb-tm-stuck"),$.css("top",0))),0!==se.length&&ve===!1)if(i>Y){t.removeClass("cb-par-hidden"),re===!0&&(Y-=32)
var f=Y/2,h=f+"px"
se.css({"-webkit-transform":"translate3d(0, "+h+", 0)",transform:"translate3d(0, "+h+", 0)"})}else t.addClass("cb-par-hidden")
if(K.length&&J===!0){var m=e("#main").children().last(),p=m.attr("id"),u=m.prev()
if(u.hasClass("cb-grid-x")&&(u=u.children().last()),"cb-blog-infinite-scroll"===p&&u.visible(!0)){J=!1
var v=e("#cb-blog-infinite-scroll").find("a").attr("href")
l.addClass("cb-pre-load cb-pro-load"),e.get(v,function(s){var t,a
a=e(s).filter("#cb-outer-container").find("#main"),e(a).find(".cb-category-top, .cb-module-header, .cb-grid-block, .cb-breadcrumbs").remove(),t=a.html(),e("#main").children().last().remove(),e("#main").append(t),l.removeClass("cb-pro-load")})}}e.each(ee,function(s,t){var a=e(t)
a.visible(!0)&&a.addClass("cb-trigger")}),le=!1}window.addEventListener("scroll",Ce,!1),o.each(function(){var s=e(this)
if(t.hasClass(cbScripts.cbFsClass))if(s.hasClass("wp-caption")){var a=s.find("img")
a.hasClass("size-full")&&(oe===!0?s.css({"margin-right":n.width()/2-r/2,"max-width":"none"}).addClass("cb-fs-embed"):s.css({"margin-left":n.width()/2-r/2,"max-width":"none"}).addClass("cb-fs-embed"),s.add(a).css("width",r))}else s.hasClass("size-full")&&s.css(oe===!0?{"margin-right":n.width()/2-r/2,"max-width":"none",width:r}:{"margin-left":n.width()/2-r/2,"max-width":"none",width:r})}),w.click(function(e){e.preventDefault(),p.animate({scrollTop:l.offset().top-60},1500)}),u.click(function(e){e.preventDefault(),p.animate({scrollTop:0},1500)}),e(".cb-module-half:odd").each(function(){e(this).prev().addBack().wrapAll(e("<div/>",{"class":"cb-double-block clearfix"}))}),v.each(function(){var s=e(this)
s.css({"margin-left":C.width()/2-r/2,"max-width":"none",width:r})}),F.click(function(e){e.preventDefault(),t.addClass("cb-lwa-modal-on"),ve===!1&&V.focus()}),I.click(function(e){e.preventDefault(),t.addClass("cb-s-modal-on"),ve===!1&&P.focus()}),R.click(function(e){e.preventDefault(),t.addClass("cb-m-modal-on"),ze()}),z.click(function(){t.removeClass("cb-lwa-modal-on cb-s-modal-on cb-m-modal-on"),Ee()}),c.keyup(function(e){27==e.keyCode&&(t.removeClass("cb-lwa-modal-on cb-s-modal-on cb-m-modal-on"),Ee())})
var ke=N.find(".lwa-form"),Se=N.find(".lwa-remember"),Te=N.find(".lwa-register-form")
E.click(function(s){s.preventDefault()
var t=e(this)
E.removeClass("cb-active"),t.addClass("cb-active"),t.hasClass("cb-trigger-reg")?(ke.add(Se).removeClass("cb-form-active"),Te.addClass("cb-form-active")):t.hasClass("cb-trigger-pass")?(Te.add(ke).removeClass("cb-form-active"),Se.addClass("cb-form-active")):(Te.add(Se).removeClass("cb-form-active"),ke.addClass("cb-form-active"))}),e(".tiled-gallery").find("a").attr("rel","tiledGallery"),e(".gallery").find("a").attr("rel","tiledGallery"),e(document).ready(function(e){T.length&&r>767&&(be=T.offset().top),e(".cb-toggler").find(".cb-toggle").click(function(s){s.preventDefault(),e(this).parent().toggleClass("cb-on")}),e(".cb-tabs").find("> ul").tabs(".cb-panes .cb-tab-content"),l.find(".hentry").find("a").has("img").each(function(){var s=e("img",this).attr("title"),t=e(this).attr("href"),a=e(this).attr("rel")
if(void 0!==s&&e(this).attr("title",s),void 0!==t&&"prettyPhoto[product-gallery]"!==a){var c=t.split("."),i=e(c)[e(c).length-1];("jpg"===i||"jpeg"===i||"png"===i||"gif"===i||"tif"===i)&&e(this).addClass("cb-lightbox")}}),e(".cb-video-frame").fitVids(),e.prototype.boxer&&e(".cb-lightbox").boxer({fixed:!0}),e(".cb-tip-bot").tipper({direction:"bottom",follow:!0}),f.flexslider({maxItems:1,minItems:1,startAt:1,animation:"slide",slideshow:cbScripts.cbSlider[1],slideshowSpeed:cbScripts.cbSlider[2],animationSpeed:cbScripts.cbSlider[0],pauseOnHover:cbScripts.cbSlider[3],controlNav:!1,nextText:'<i class="fa fa-angle-right"></i>',prevText:'<i class="fa fa-angle-left"></i>'}),e(".cb-slider-grid-3").flexslider({maxItems:1,minItems:1,startAt:1,animation:"slide",slideshow:cbScripts.cbSlider[1],slideshowSpeed:cbScripts.cbSlider[2],animationSpeed:cbScripts.cbSlider[0],pauseOnHover:cbScripts.cbSlider[3],itemMargin:3,controlNav:!1,nextText:'<i class="fa fa-angle-right"></i>',prevText:'<i class="fa fa-angle-left"></i>'}),h.flexslider({maxItems:2,startAt:0,minItems:1,animation:"slide",slideshow:cbScripts.cbSlider[1],slideshowSpeed:cbScripts.cbSlider[2],animationSpeed:cbScripts.cbSlider[0],pauseOnHover:cbScripts.cbSlider[3],itemWidth:300,itemMargin:3,controlNav:!1,nextText:'<i class="fa fa-angle-right"></i>',prevText:'<i class="fa fa-angle-left"></i>'}),m.flexslider({maxItems:3,minItems:1,startAt:0,animation:"slide",slideshow:cbScripts.cbSlider[1],slideshowSpeed:cbScripts.cbSlider[2],animationSpeed:cbScripts.cbSlider[0],pauseOnHover:cbScripts.cbSlider[3],itemWidth:300,itemMargin:3,controlNav:!1,nextText:'<i class="fa fa-angle-right"></i>',prevText:'<i class="fa fa-angle-left"></i>'}),ve===!1?b.hoverIntent(function(){t.addClass("cb-mm-on")},function(){t.removeClass("cb-mm-on")}):b.on("click",function(s){var a=e(this)
return a.siblings(".cb-tap").removeClass("cb-tap"),a.hasClass("cb-tap")?!0:(s.preventDefault(),t.addClass("cb-mm-on"),a.addClass("cb-tap"),void 0)}),p.on("mousewheel DOMMouseScroll",function(){p.stop()}),c.ajaxStop(function(){J=!0,e(".cb-pro-load").removeClass("cb-pro-load")}),C.on("click","#cb-blog-infinite-load a",function(s){s.preventDefault()
var t=e(this).attr("href"),a=e(this).parent()
e(this).hasClass("cb-pre-load")||(l.addClass("cb-pre-load cb-pro-load"),e(this).addClass("cb-pre-load"),e.get(t,function(s){var t,c
c=e(s).filter("#cb-outer-container").find("#main"),e(c).find(".cb-category-top, .cb-module-header, .cb-grid-block, .cb-breadcrumbs").remove(),e(c).children().addClass("cb-slide-visible"),t=c.html(),e("#main").append(t),l.removeClass("cb-pro-load"),a.addClass("cb-hidden")}))}),e(".cb-c-l").hoverIntent(function(){var s=e(this),t=e(this).text(),a=s.closest("div")
if(a.hasClass("cb-big-menu")){var c=s.attr("data-cb-c"),i=s.attr("href"),r=e(a[0].firstChild),l=r.find("ul"),n=r.find(".cb-upper-title"),o=n.find(".cb-see-all"),d=n.find("h2")
d.text()!==t&&e.ajax({type:"GET",data:{action:"cb_mm_a",cid:c,acall:1},url:cbScripts.cbUrl,beforeSend:function(){r.addClass("cb-pro-load")},success:function(s){d.text(t),l.html(e(s)),o.attr("href",i)},error:function(e,s,t){console.log("cbmm "+e+" :: "+s+" :: "+t)}})}},function(){}),e(".cb-trending-op").click(function(s){s.preventDefault()
var t=e(this),a=e("#cb-trending-block"),c=a.find(".cb-trending-op"),i=a.find("#cb-trend-data"),r=t.attr("data-cb-r")
t.hasClass("cb-selected")||e.ajax({type:"GET",data:{action:"cb_t_a",cbr:r},url:cbScripts.cbUrl,beforeSend:function(){a.addClass("cb-pro-load")},success:function(s){c.removeClass("cb-selected"),t.addClass("cb-selected"),i.html(e(s))},error:function(e,s,t){console.log("cbr "+e+" :: "+s+" :: "+t)}})}),P.keyup(function(a){j&&clearTimeout(j),27==a.keyCode?t.removeClass("cb-lwa-modal-on"):-1==e.inArray(a.keyCode,W)&&(t.hasClass("cb-las-off")||(j=setTimeout(s,300)))})
function s(){var s=P.val()
0===s.length&&A.empty(),s.length<3||e.ajax({type:"GET",data:{action:"cb_s_a",cbi:s},url:cbScripts.cbUrl,beforeSend:function(){D.find(".cb-s-modal-inner").addClass("cb-pro-load")},success:function(s){D.addClass("cb-padded"),A.html(e(s)),e("#cb-s-all-results").click(function(s){s.preventDefault(),e("#cb-s-results").prev().trigger("submit")})},error:function(e,s,t){console.log("cbsa "+e+" :: "+s+" :: "+t)}})}if(y.length){var a=x.offset().top,n=i-a
y.css("height",n),k.css("height",i)}}),e(window).load(function(){var s=e(".tabbernav"),c=s.children().length
4===c&&s.addClass("cb-tab-4"),3===c&&s.addClass("cb-tab-3"),2===c&&s.addClass("cb-tab-2"),1===c&&s.addClass("cb-tab-1"),Y=re===!0?a.scrollTop()+32:a.scrollTop(),xe(),S.flexslider({nextText:'<i id="cb-gallery-next" class="fa fa-angle-right"></i>',prevText:'<i id="cb-gallery-prev" class="fa fa-angle-left"></i>',animation:"slide",startAt:1,controlNav:!1,itemMargin:5,slideshow:!1,variableImageWidth:!0,start:function(){S.removeClass("cb-background-preload").find(".cb-meta").addClass("cb-ani-fade-in-1-5s")}})
var i=S.find("#cb-gallery-next, #cb-gallery-prev").parent()
if(i.hover(function(){t.toggleClass("cb-arrows-hover")}),ve===!0){i.on("tap",function(){t.addClass("cb-arrows-hover")})
var r=S.find(".cb-link-overlay")
r.on("tap",function(){t.removeClass("cb-arrows-hover")}),r.on("swipe",function(){t.addClass("cb-arrows-hover")})}}),e(window).resize(function(){var s,c
i=a.height()+1,r=a.width(),f.each(function(){var s=e(this)
s.hasClass("cb-recent-slider")||s.find(".slides > li").css("height",s.width()/2.333333)}),(y.length||S.length)&&(s=x.offset().top,c=i-s),k.css("height",i),y.css("height",c),t.hasClass("cb-stuck")||T.length&&r>767&&(T.css("height",""),pe=T.outerHeight(),T.css("height",pe)),v.each(function(){var s=e(this),t=a.width()
s.css({"margin-left":C.width()/2-t/2,"max-width":"none",width:t})}),o.each(function(){var s=e(this)
if(t.hasClass(cbScripts.cbFsClass))if(s.hasClass("wp-caption")){var a=s.find("img")
a.hasClass("size-full")&&(oe===!0?s.css({"margin-right":n.width()/2-r/2,"max-width":"none"}).addClass("cb-fs-embed"):s.css({"margin-left":n.width()/2-r/2,"max-width":"none"}).addClass("cb-fs-embed"),s.add(a).css("width",r))}else s.hasClass("size-full")&&s.css(oe===!0?{"margin-right":n.width()/2-r/2,"max-width":"none",width:r}:{"margin-left":n.width()/2-r/2,"max-width":"none",width:r})})})
var Ie=e("#cb-vote"),De=e(".cb-criteria-score.cb-average-score"),Pe=Ie.find(".cb-criteria"),Oe=Pe.attr("data-cb-text"),Ye=Ie.find(".cb-overlay"),_e,je,He,Me
Ye.length?(_e=Ye.find("span"),je=Ie.not(".cb-voted").find(".cb-overlay"),He=_e.css("width")):(Ye=Ie.find(".cb-overlay-stars"),Me=je=Ie.not(".cb-voted").find(".cb-overlay-stars"),_e=Ye.find("span"),He=_e.css("width"),"125px"!==He&&_e.addClass("cb-zero-stars-trigger"))
var Ae=De.text(),Ne=Pe.html()
je.on("mousemove click mouseleave mouseenter",function(s){var t=e(this).parent().offset(),a=e(this).offset(),c,i,r=Ie.width()/100,l=Ye.width()/100
return Ie.hasClass("stars")?Math.round(a.left)<=s.pageX&&(i=Math.round((s.pageX-Math.round(a.left))/l),c=(Math.round(10*i/20)/10).toFixed(1),0>c&&(c=0),c>5&&(c=5),he=oe===!0?i:100-i):(i=Math.ceil((s.pageX-t.left)/r),he=oe===!0?100-i:i),Ie.hasClass("points")?(c=oe===!0?((100-i)/10).toFixed(1):(i/10).toFixed(1),De.text(c)):Ie.hasClass("percentage")&&(c=oe===!0?100-i+"%":i+"%",De.text(c)),_e.hasClass("cb-bar-ani")&&_e.removeClass("cb-bar-ani"),_e.hasClass("cb-bar-ani-stars")&&_e.removeClass("cb-bar-ani-stars").css("width",100-i+"%"),he>100&&(he=100),1>he&&(he=0),_e.css("width",he+"%"),"mouseenter"==s.type&&Pe.fadeOut(75,function(){e(this).fadeIn(75).text(Oe)}),"mouseleave"==s.type&&(_e.animate({width:He},300),De.text(Ae),Pe.fadeOut(75,function(){e(this).fadeIn(75).html(Ne)})),"click"==s.type?(me=Ie.attr("data-cb-nonce"),Ie.hasClass("points")&&(c=10*c),Ie.hasClass("stars")&&(c=20*c),t=e(this).parent().offset(),Ye.off("mousemove click mouseleave mouseenter"),e.ajax({type:"POST",data:{action:"cb_a_s",cburNonce:me,cbNewScore:parseInt(c),cbPostID:cbScripts.cbPostID},url:cbScripts.cbUrl,dataType:"json",success:function(s){var t=s[0],a=s[2]
Pe.fadeOut(550,function(){e(this).fadeIn(550).html(Ne).find(".cb-votes-count").html(a)}),"-1"!==t&&"null"!==t&&(Ie.hasClass("points")?De.html((t/10).toFixed(1)):Ie.hasClass("percentage")?De.html(t+"%"):t=100-t,_e.css("width",t+"%"),Ie.addClass("cb-voted cb-tip-bot").off("click")),Ie.tipper({direction:"bottom",follow:!0}),cookie.enabled()&&cookie.set({cb_post_left_rating:"1"},{expires:28})},error:function(e,s,t){console.log("cbur "+e+" :: "+s+" :: "+t)}}),!1):void 0})
var Fe=jQuery("#cb-yt-player")
function ze(){ve===!1&&Fe.length>0&&cbYTPlayerHolder.playVideo()}function Ee(){ve===!1&&Fe.length>0&&cbYTPlayerHolder.pauseVideo()}}(jQuery)
var cbYTPlayerHolder,CbYTPlayer=jQuery("#cb-yt-player"),cbYouTubeVideoID=CbYTPlayer.text()
if(CbYTPlayer.length>0){var tag=document.createElement("script")
tag.src="//www.youtube.com/iframe_api"
var firstScriptTag=document.getElementsByTagName("script")[0]
firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}function onYouTubeIframeAPIReady(){CbYTPlayer.length>0&&(cbYTPlayerHolder=new YT.Player("cb-yt-player",{videoId:cbYouTubeVideoID}))}